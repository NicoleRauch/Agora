extends ../../../views/layoutOnlyMain

include  ../../../views/formComponents

block title
  | #{activityResult.id()}

block scripts
  script(src='/clientscripts/activityResults.js')

block content
  .row
    .col-md-12
      h2(style='margin-top: 5px;') #{activityResult.id()}

  .row
    .col-md-12
      form(id='recordForm', role='form', method='POST', action=recordImagePath + '?_csrf=' + encodeURIComponent(csrf_token), enctype='multipart/form-data')
        #selectFile
          span.btn.btn-primary.btn-file(style='width: 100%')
            i.fa.fa-fw.fa-camera
            |  #{t('activityresults.record_image')}
            input#input-file(type='file', accept='image/*', name='image')
        #previewContainer(style='display: none')
          img#preview(style='max-width: 100%; padding-bottom: 15px;')
          .btn-group.pull-right
            span#btn-cancel.btn.btn-default= t('activityresults.cancel')
            button.btn.btn-primary(type='submit') #{t('activityresults.submit')}

  hr
  each timestamp in dayTimeStamps
    - var columns = days[timestamp.valueOf()]
    h3(style='margin-top: 5px;')= timestamp.locale(language).format('dddd, l')
    .row
      .col-md-12(style='overflow-x: auto')

        - var i = 0;
        table.row.timeline
          tr.table-row
            each column, columnTitle in columns
              th.col-without-padding.venue(class=getBackgroundForIndex(i++))
                p.tag= '#' + columnTitle

          - i = 0;
          tr.table-row(style='display: table-row')
            each column, columnTitle in columns
              td.col-without-padding.venue(class=getBackgroundForIndex(i++))
                each img in column
                  a.thumb(href=img.uri(), data-columntitle='#' +columnTitle)
                    img.thumb(src=img.uri() + '?size=thumb', alt=img.title(), title=img.title())
                    span.small(style='color: black') #{img.thumbnailInfos(language)}
